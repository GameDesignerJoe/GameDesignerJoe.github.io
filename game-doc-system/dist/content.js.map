{"version":3,"file":"content.js","mappings":"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","sources":["webpack://game-doc-system/./src/prompts/promptManager.ts","webpack://game-doc-system/./src/shared/types.ts","webpack://game-doc-system/webpack/bootstrap","webpack://game-doc-system/webpack/runtime/define property getters","webpack://game-doc-system/webpack/runtime/hasOwnProperty shorthand","webpack://game-doc-system/webpack/runtime/make namespace object","webpack://game-doc-system/./src/content/content.ts"],"sourcesContent":["import { DocumentType } from '../shared/types';\r\n\r\ninterface PromptTemplate {\r\n  systemPrompt: string;\r\n  initialPrompt: string;\r\n  followUpPrompts: {\r\n    groupDynamics: string;\r\n    worldAndChallenges: string;\r\n    progressionAndGrowth: string;\r\n    storyAndNarrative: string;\r\n    uniqueFeatures: string;\r\n  };\r\n}\r\n\r\nconst GAME_VISION_PROMPT: PromptTemplate = {\r\n  systemPrompt: `You are a game design document assistant specializing in creating clear, compelling Game Vision documents. Your role is to help developers articulate their game's core concept through natural conversation, asking follow-up questions based on their responses and guiding them to explore all important aspects of their vision.`,\r\n  \r\n  initialPrompt: `Hi, I'm here to help you define your game. Why don't you tell me what you envision when you think about it? Share whatever comes to mind about the experience you want to create.`,\r\n  \r\n  followUpPrompts: {\r\n    groupDynamics: `That's an interesting concept! Let's explore the group dynamics you mentioned. What kind of shared experiences do you want players to have together? How will they work as a team?`,\r\n    \r\n    worldAndChallenges: `I see how that would create engaging player interactions. Now tell me about the world they'll be exploring. What makes it compelling and what kinds of challenges will they face?`,\r\n    \r\n    progressionAndGrowth: `The world sounds fascinating! How will players grow and develop as they explore it? What systems or mechanics will drive their progression?`,\r\n    \r\n    storyAndNarrative: `That's a great progression system. How will the story unfold as players advance? What narrative elements will make their journey meaningful?`,\r\n    \r\n    uniqueFeatures: `The narrative elements sound compelling. What unique features or innovations will make your game stand out? What will players remember most about their experience?`\r\n  }\r\n};\r\n\r\nexport class PromptManager {\r\n  private static readonly prompts: Record<DocumentType, PromptTemplate> = {\r\n    [DocumentType.GameVision]: GAME_VISION_PROMPT,\r\n    // Other document types will be added here\r\n  } as Record<DocumentType, PromptTemplate>;\r\n\r\n  static getPromptForDocument(type: DocumentType): PromptTemplate | null {\r\n    return this.prompts[type] || null;\r\n  }\r\n\r\n  private static async injectClaudeMessage(text: string): Promise<void> {\r\n    // Find the chat container\r\n    const chatContainer = document.querySelector('.chat-container, .claude-container');\r\n    if (!chatContainer) {\r\n      console.error('Could not find chat container');\r\n      return;\r\n    }\r\n\r\n    // Create a new message element\r\n    const messageElement = document.createElement('div');\r\n    messageElement.className = 'claude-message assistant-message';\r\n    messageElement.innerHTML = `\r\n      <div class=\"claude-response bg-claude-light dark:bg-claude-dark rounded-xl px-4 py-3 my-4\">\r\n        <div class=\"claude-message-content text-gray-900 dark:text-gray-100\">${text}</div>\r\n      </div>\r\n    `;\r\n\r\n    // Add the message to the chat\r\n    chatContainer.appendChild(messageElement);\r\n\r\n    // Scroll to the new message\r\n    messageElement.scrollIntoView({ behavior: 'smooth' });\r\n\r\n    // Wait a moment for the UI to update\r\n    await new Promise(resolve => setTimeout(resolve, 500));\r\n  }\r\n\r\n  private static currentPromptStage: keyof PromptTemplate['followUpPrompts'] | 'initial' = 'initial';\r\n\r\n  static async injectPrompt(prompt: PromptTemplate): Promise<void> {\r\n    // Send the initial prompt as a Claude message\r\n    await this.injectClaudeMessage(prompt.initialPrompt);\r\n    this.currentPromptStage = 'initial';\r\n  }\r\n\r\n  static async startDocumentCreation(type: DocumentType): Promise<void> {\r\n    const prompt = this.getPromptForDocument(type);\r\n    if (!prompt) {\r\n      console.error(`No prompt template found for document type: ${type}`);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await this.injectPrompt(prompt);\r\n      this.monitorResponse(prompt);\r\n    } catch (error) {\r\n      console.error('Error starting document creation:', error);\r\n    }\r\n  }\r\n\r\n  static monitorResponse(prompt: PromptTemplate): void {\r\n    // Create a mutation observer to watch for Claude's responses\r\n    const observer = new MutationObserver((mutations) => {\r\n      for (const mutation of mutations) {\r\n        if (mutation.type === 'childList') {\r\n          // Look for new response elements\r\n          const responses = Array.from(document.querySelectorAll('.claude-response'));\r\n          for (const response of responses) {\r\n            // Process the response and send next prompt\r\n            this.processResponse(response.textContent || '', prompt);\r\n          }\r\n        }\r\n      }\r\n    });\r\n\r\n    // Start observing the chat container\r\n    const chatContainer = document.querySelector('.chat-container');\r\n    if (chatContainer) {\r\n      observer.observe(chatContainer, {\r\n        childList: true,\r\n        subtree: true\r\n      });\r\n    }\r\n  }\r\n\r\n  private static async processResponse(content: string, prompt: PromptTemplate): Promise<void> {\r\n    console.log('Captured response:', content);\r\n\r\n    // Determine next prompt based on current stage\r\n    let nextPrompt: string | undefined;\r\n    \r\n    switch (this.currentPromptStage) {\r\n      case 'initial':\r\n        nextPrompt = prompt.followUpPrompts.groupDynamics;\r\n        this.currentPromptStage = 'groupDynamics';\r\n        break;\r\n      case 'groupDynamics':\r\n        nextPrompt = prompt.followUpPrompts.worldAndChallenges;\r\n        this.currentPromptStage = 'worldAndChallenges';\r\n        break;\r\n      case 'worldAndChallenges':\r\n        nextPrompt = prompt.followUpPrompts.progressionAndGrowth;\r\n        this.currentPromptStage = 'progressionAndGrowth';\r\n        break;\r\n      case 'progressionAndGrowth':\r\n        nextPrompt = prompt.followUpPrompts.storyAndNarrative;\r\n        this.currentPromptStage = 'storyAndNarrative';\r\n        break;\r\n      case 'storyAndNarrative':\r\n        nextPrompt = prompt.followUpPrompts.uniqueFeatures;\r\n        this.currentPromptStage = 'uniqueFeatures';\r\n        break;\r\n      // No more prompts after uniqueFeatures\r\n    }\r\n\r\n    if (nextPrompt) {\r\n      await this.injectClaudeMessage(nextPrompt);\r\n    }\r\n  }\r\n}\r\n","// Document types supported by the system\r\nexport enum DocumentType {\r\n  GameVision = 'game_vision',\r\n  CoreGameConcept = 'core_game_concept',\r\n  TargetAudience = 'target_audience',\r\n  CorePillarsValues = 'core_pillars_values',\r\n  WhyPlayIt = 'why_play_it',\r\n  WhatShouldTheyFeel = 'what_should_they_feel',\r\n  UniqueSellingPoints = 'unique_selling_points',\r\n  GameLoop = 'game_loop',\r\n  PlayerJourney = 'player_journey',\r\n  StoryOverview = 'story_overview',\r\n  Presentation = 'presentation',\r\n  KeyQuestions = 'key_questions',\r\n  CoreDesignDetails = 'core_design_details',\r\n  StrategicDirection = 'strategic_direction'\r\n}\r\n\r\n// Document status\r\nexport enum DocumentStatus {\r\n  NotStarted = 'not_started',\r\n  InProgress = 'in_progress',\r\n  Completed = 'completed'\r\n}\r\n\r\n// Project structure\r\nexport interface GameProject {\r\n  id: string;\r\n  name: string;\r\n  createdAt: number;\r\n  updatedAt: number;\r\n  documents: Record<string, GameDocument>;\r\n}\r\n\r\n// Document structure\r\nexport interface GameDocument {\r\n  id: string;\r\n  projectId: string;\r\n  type: DocumentType;\r\n  title: string;\r\n  content: string;\r\n  status: DocumentStatus;\r\n  createdAt: number;\r\n  updatedAt: number;\r\n  versions: DocumentVersion[];\r\n}\r\n\r\n// Document version\r\nexport interface DocumentVersion {\r\n  versionNumber: number;\r\n  content: string;\r\n  createdAt: number;\r\n  notes: string;\r\n}\r\n\r\n// Message types for communication between components\r\nexport enum MessageType {\r\n  GetProjects = 'get_projects',\r\n  CreateProject = 'create_project',\r\n  UpdateProject = 'update_project',\r\n  DeleteProject = 'delete_project',\r\n  GetProject = 'get_project',\r\n  CreateDocument = 'create_document',\r\n  UpdateDocument = 'update_document',\r\n  GetDocument = 'get_document',\r\n  DeleteDocument = 'delete_document',\r\n  StartDocumentCreation = 'start_document_creation'\r\n}\r\n\r\n// Message structure\r\nexport interface Message {\r\n  type: MessageType;\r\n  payload: any;\r\n}\r\n\r\n// Response structure\r\nexport interface Response {\r\n  success: boolean;\r\n  data?: any;\r\n  error?: string;\r\n}\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { MessageType, GameProject, DocumentType, DocumentStatus } from '../shared/types';\r\n\r\n// Wait until page fully loaded\r\n// Inject CSS into the page\r\nfunction injectStyles() {\r\n  const styleLinks = [\r\n    chrome.runtime.getURL('css/sidebar.css'),\r\n    chrome.runtime.getURL('css/claude-messages.css')\r\n  ];\r\n\r\n  styleLinks.forEach(href => {\r\n    const link = document.createElement('link');\r\n    link.rel = 'stylesheet';\r\n    link.type = 'text/css';\r\n    link.href = href;\r\n    document.head.appendChild(link);\r\n  });\r\n}\r\n\r\nwindow.addEventListener('load', () => {\r\n  // Check if we're on Claude.ai\r\n  if (window.location.href.includes('claude.ai')) {\r\n    console.log('Game Development Document System loaded on Claude.ai');\r\n    \r\n    // Inject styles\r\n    injectStyles();\r\n    \r\n    // Give the UI time to render completely\r\n    setTimeout(injectSidebar, 2000);\r\n  }\r\n});\r\n\r\n// Inject the sidebar into Claude's UI\r\nfunction injectSidebar() {\r\n  console.log('Attempting to inject sidebar');\r\n  \r\n  // Find main chat container to position relative to\r\n  const mainContent = document.querySelector('main');\r\n  if (!mainContent) {\r\n    console.log('Claude main content not found, retrying in 2 seconds');\r\n    setTimeout(injectSidebar, 2000);\r\n    return;\r\n  }\r\n  \r\n  // Create sidebar element\r\n  const sidebar = document.createElement('div');\r\n  sidebar.id = 'gdds-sidebar';\r\n  sidebar.className = 'gdds-sidebar';\r\n  \r\n  // Position sidebar after the main content\r\n  mainContent.parentElement?.insertBefore(sidebar, mainContent.nextSibling);\r\n  \r\n  // Initial HTML for sidebar\r\n  sidebar.innerHTML = `\r\n    <div class=\"gdds-sidebar-header\">\r\n      <h3>Game Documents</h3>\r\n      <button id=\"gdds-new-project\" class=\"gdds-button primary\">New Project</button>\r\n      <button id=\"gdds-toggle-sidebar\" class=\"gdds-button icon-only\">\r\n        <span class=\"gdds-icon\">◀</span>\r\n      </button>\r\n    </div>\r\n    <div class=\"gdds-projects-container\">\r\n      <div class=\"gdds-loading\">Loading projects...</div>\r\n    </div>\r\n  `;\r\n\r\n  // Setup event listeners\r\n  setupEventListeners();\r\n  \r\n  // Load projects\r\n  loadProjects();\r\n  \r\n  console.log('Sidebar injected successfully');\r\n}\r\n\r\n// Setup event listeners for sidebar\r\nfunction setupEventListeners() {\r\n  // New project button\r\n  const newProjectButton = document.getElementById('gdds-new-project');\r\n  if (newProjectButton) {\r\n    newProjectButton.addEventListener('click', showNewProjectDialog);\r\n  }\r\n  \r\n  // Toggle sidebar button\r\n  const toggleButton = document.getElementById('gdds-toggle-sidebar');\r\n  if (toggleButton) {\r\n    toggleButton.addEventListener('click', toggleSidebar);\r\n  }\r\n}\r\n\r\n// Toggle sidebar visibility\r\nfunction toggleSidebar() {\r\n  const sidebar = document.getElementById('gdds-sidebar');\r\n  if (sidebar) {\r\n    sidebar.classList.toggle('collapsed');\r\n    \r\n    // Update toggle button icon\r\n    const toggleButton = document.getElementById('gdds-toggle-sidebar');\r\n    if (toggleButton) {\r\n      const icon = toggleButton.querySelector('.gdds-icon');\r\n      if (icon) {\r\n        icon.textContent = sidebar.classList.contains('collapsed') ? '▶' : '◀';\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// Show dialog to create new project\r\nfunction showNewProjectDialog() {\r\n  // Create dialog element\r\n  const dialog = document.createElement('div');\r\n  dialog.className = 'gdds-dialog';\r\n  dialog.innerHTML = `\r\n    <div class=\"gdds-dialog-content\">\r\n      <h3>Create New Project</h3>\r\n      <form id=\"gdds-new-project-form\">\r\n        <div class=\"gdds-form-group\">\r\n          <label for=\"project-name\">Project Name:</label>\r\n          <input type=\"text\" id=\"project-name\" required>\r\n        </div>\r\n        <div class=\"gdds-form-actions\">\r\n          <button type=\"button\" class=\"gdds-button secondary\" id=\"gdds-cancel-project\">Cancel</button>\r\n          <button type=\"submit\" class=\"gdds-button primary\">Create Project</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  `;\r\n  \r\n  // Add to DOM\r\n  document.body.appendChild(dialog);\r\n  \r\n  // Focus the input field\r\n  const nameInput = document.getElementById('project-name') as HTMLInputElement;\r\n  if (nameInput) {\r\n    nameInput.focus();\r\n  }\r\n  \r\n  // Setup form submission\r\n  const form = document.getElementById('gdds-new-project-form');\r\n  if (form) {\r\n    form.addEventListener('submit', (e) => {\r\n      e.preventDefault();\r\n      \r\n      if (nameInput && nameInput.value.trim()) {\r\n        createProject(nameInput.value.trim());\r\n        closeDialog();\r\n      }\r\n    });\r\n  }\r\n  \r\n  // Setup cancel button\r\n  const cancelButton = document.getElementById('gdds-cancel-project');\r\n  if (cancelButton) {\r\n    cancelButton.addEventListener('click', closeDialog);\r\n  }\r\n  \r\n  // Close dialog function\r\n  function closeDialog() {\r\n    document.body.removeChild(dialog);\r\n  }\r\n}\r\n\r\n// Create new project\r\nfunction createProject(name: string) {\r\n  chrome.runtime.sendMessage(\r\n    { type: MessageType.CreateProject, payload: { name } },\r\n    (response) => {\r\n      if (response.success) {\r\n        console.log('Project created:', response.data);\r\n        loadProjects();\r\n      } else {\r\n        console.error('Failed to create project:', response.error);\r\n        showNotification('Error creating project', 'error');\r\n      }\r\n    }\r\n  );\r\n}\r\n\r\n// Load projects from storage\r\nfunction loadProjects() {\r\n  const projectsContainer = document.querySelector('.gdds-projects-container');\r\n  if (projectsContainer) {\r\n    projectsContainer.innerHTML = '<div class=\"gdds-loading\">Loading projects...</div>';\r\n    \r\n    chrome.runtime.sendMessage(\r\n      { type: MessageType.GetProjects, payload: {} },\r\n      (response) => {\r\n        if (response.success) {\r\n          renderProjects(response.data || {});\r\n        } else {\r\n          console.error('Failed to load projects:', response.error);\r\n          projectsContainer.innerHTML = '<div class=\"gdds-error\">Error loading projects</div>';\r\n        }\r\n      }\r\n    );\r\n  }\r\n}\r\n\r\n// Render projects list\r\nfunction renderProjects(projects: Record<string, GameProject>) {\r\n  const projectsContainer = document.querySelector('.gdds-projects-container');\r\n  if (!projectsContainer) return;\r\n  \r\n  if (Object.keys(projects).length === 0) {\r\n    projectsContainer.innerHTML = `\r\n      <div class=\"gdds-empty-state\">\r\n        <p>No projects yet</p>\r\n        <p>Click \"New Project\" to get started</p>\r\n      </div>\r\n    `;\r\n    return;\r\n  }\r\n  \r\n  // Create projects list\r\n  const projectsList = document.createElement('div');\r\n  projectsList.className = 'gdds-projects-list';\r\n  \r\n  // Sort projects by creation date (newest first)\r\n  const sortedProjects = Object.values(projects).sort((a, b) => \r\n    b.createdAt - a.createdAt\r\n  );\r\n  \r\n  // Add each project\r\n  sortedProjects.forEach(project => {\r\n    const projectElement = document.createElement('div');\r\n    projectElement.className = 'gdds-project-item';\r\n    projectElement.dataset.projectId = project.id;\r\n    \r\n    projectElement.innerHTML = `\r\n      <div class=\"gdds-project-header\">\r\n        <h4>${project.name}</h4>\r\n        <div class=\"gdds-project-actions\">\r\n          <button class=\"gdds-button icon-only project-expand\">\r\n            <span class=\"gdds-icon\">▼</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div class=\"gdds-project-documents\" style=\"display: none;\"></div>\r\n    `;\r\n    \r\n    projectsList.appendChild(projectElement);\r\n    \r\n    // Add event listener for expand/collapse\r\n    const expandButton = projectElement.querySelector('.project-expand');\r\n    if (expandButton) {\r\n      expandButton.addEventListener('click', () => {\r\n        toggleProjectDocuments(project.id);\r\n      });\r\n    }\r\n  });\r\n  \r\n  // Replace loading indicator with projects list\r\n  projectsContainer.innerHTML = '';\r\n  projectsContainer.appendChild(projectsList);\r\n}\r\n\r\n// Toggle project documents visibility\r\nfunction toggleProjectDocuments(projectId: string) {\r\n  const projectElement = document.querySelector(`[data-project-id=\"${projectId}\"]`);\r\n  if (!projectElement) return;\r\n  \r\n  const documentsContainer = projectElement.querySelector('.gdds-project-documents') as HTMLElement;\r\n  if (!documentsContainer) return;\r\n  \r\n  const isVisible = documentsContainer.style.display !== 'none';\r\n  documentsContainer.style.display = isVisible ? 'none' : 'block';\r\n  \r\n  // Update expand/collapse icon\r\n  const expandButton = projectElement.querySelector('.project-expand');\r\n  if (expandButton) {\r\n    const icon = expandButton.querySelector('.gdds-icon');\r\n    if (icon) {\r\n      icon.textContent = isVisible ? '▼' : '▲';\r\n    }\r\n  }\r\n  \r\n  // If expanding, load and render documents\r\n  if (!isVisible) {\r\n    loadProjectDocuments(projectId);\r\n  }\r\n}\r\n\r\n// Load document list for a project\r\nfunction loadProjectDocuments(projectId: string) {\r\n  chrome.runtime.sendMessage(\r\n    { type: MessageType.GetProject, payload: { projectId } },\r\n    (response) => {\r\n      if (response.success && response.data) {\r\n        renderProjectDocuments(response.data);\r\n      } else {\r\n        console.error('Failed to load project documents:', response.error);\r\n      }\r\n    }\r\n  );\r\n}\r\n\r\n// Render documents for a project\r\nfunction renderProjectDocuments(project: GameProject) {\r\n  const projectElement = document.querySelector(`[data-project-id=\"${project.id}\"]`);\r\n  if (!projectElement) return;\r\n  \r\n  const documentsContainer = projectElement.querySelector('.gdds-project-documents');\r\n  if (!documentsContainer) return;\r\n  \r\n  // Clear previous content\r\n  documentsContainer.innerHTML = '';\r\n  \r\n  // Define the document type order\r\n  const documentTypeOrder = [\r\n    DocumentType.GameVision,\r\n    DocumentType.CoreGameConcept,\r\n    DocumentType.TargetAudience,\r\n    DocumentType.CorePillarsValues,\r\n    DocumentType.WhyPlayIt,\r\n    DocumentType.WhatShouldTheyFeel,\r\n    DocumentType.UniqueSellingPoints,\r\n    DocumentType.GameLoop,\r\n    DocumentType.PlayerJourney,\r\n    DocumentType.StoryOverview,\r\n    DocumentType.Presentation,\r\n    DocumentType.KeyQuestions,\r\n    DocumentType.CoreDesignDetails,\r\n    DocumentType.StrategicDirection\r\n  ];\r\n  \r\n  // Sort documents by the defined order\r\n  const sortedDocuments = Object.values(project.documents).sort((a, b) => {\r\n    return documentTypeOrder.indexOf(a.type as DocumentType) -\r\n           documentTypeOrder.indexOf(b.type as DocumentType);\r\n  });\r\n  \r\n  // Create document list\r\n  sortedDocuments.forEach(doc => {\r\n    const documentElement = document.createElement('div');\r\n    documentElement.className = `gdds-document-item status-${doc.status}`;\r\n    documentElement.dataset.documentId = doc.id;\r\n    \r\n    // Status text based on document status\r\n    const statusText = {\r\n      [DocumentStatus.NotStarted]: 'Not Started',\r\n      [DocumentStatus.InProgress]: 'In Progress',\r\n      [DocumentStatus.Completed]: 'Completed'\r\n    }[doc.status] || 'Unknown';\r\n    \r\n    documentElement.innerHTML = `\r\n      <div class=\"gdds-document-info\">\r\n        <span class=\"gdds-document-title\">${doc.title}</span>\r\n        <span class=\"gdds-document-status\">${statusText}</span>\r\n      </div>\r\n      <div class=\"gdds-document-actions\">\r\n        ${doc.status === DocumentStatus.NotStarted \r\n          ? '<button class=\"gdds-button small create-doc\">Create</button>'\r\n          : '<button class=\"gdds-button small view-doc\">View</button>'}\r\n        ${doc.status === DocumentStatus.Completed \r\n          ? '<button class=\"gdds-button small icon-only export-doc\"><span class=\"gdds-icon\">⬇</span></button>'\r\n          : ''}\r\n      </div>\r\n    `;\r\n    \r\n    documentsContainer.appendChild(documentElement);\r\n    \r\n    // Add event listeners for document actions\r\n    const createButton = documentElement.querySelector('.create-doc');\r\n    if (createButton) {\r\n      createButton.addEventListener('click', () => {\r\n        startDocumentCreation(project.id, doc.id);\r\n      });\r\n    }\r\n    \r\n    const viewButton = documentElement.querySelector('.view-doc');\r\n    if (viewButton) {\r\n      viewButton.addEventListener('click', () => {\r\n        viewDocument(project.id, doc.id);\r\n      });\r\n    }\r\n    \r\n    const exportButton = documentElement.querySelector('.export-doc');\r\n    if (exportButton) {\r\n      exportButton.addEventListener('click', () => {\r\n        exportDocument(project.id, doc.id);\r\n      });\r\n    }\r\n  });\r\n}\r\n\r\nimport { PromptManager } from '../prompts/promptManager';\r\n\r\n// Start document creation process\r\nasync function startDocumentCreation(projectId: string, documentId: string) {\r\n  console.log(`Starting document creation: Project ${projectId}, Document ${documentId}`);\r\n  \r\n  // Get the project and document\r\n  chrome.runtime.sendMessage(\r\n    { type: MessageType.GetProject, payload: { projectId } },\r\n    async (response) => {\r\n      if (response.success && response.data) {\r\n        const project = response.data;\r\n        const document = project.documents[documentId];\r\n        \r\n        if (document) {\r\n          try {\r\n            // Start the document creation process\r\n            await PromptManager.startDocumentCreation(document.type);\r\n            \r\n                    // Get the prompt template again since we need it for monitoring\r\n                    const promptTemplate = PromptManager.getPromptForDocument(document.type);\r\n                    if (promptTemplate) {\r\n                      // Start monitoring for responses\r\n                      PromptManager.monitorResponse(promptTemplate);\r\n                    }\r\n            \r\n            // Update document status\r\n            document.status = DocumentStatus.InProgress;\r\n            chrome.runtime.sendMessage(\r\n              { \r\n                type: MessageType.UpdateDocument, \r\n                payload: { document }\r\n              }\r\n            );\r\n          } catch (error) {\r\n            console.error('Error during document creation:', error);\r\n            showNotification('Error creating document', 'error');\r\n          }\r\n        } else {\r\n          showNotification('Error: Document not found', 'error');\r\n        }\r\n      } else {\r\n        showNotification('Error: Could not load project', 'error');\r\n      }\r\n    }\r\n  );\r\n}\r\n\r\n// View document\r\nfunction viewDocument(projectId: string, documentId: string) {\r\n  console.log(`Viewing document: Project ${projectId}, Document ${documentId}`);\r\n  \r\n  // Will be implemented in next phase - for now just show notification\r\n  showNotification('Document viewing will be implemented in the next phase', 'info');\r\n}\r\n\r\n// Export document\r\nfunction exportDocument(projectId: string, documentId: string) {\r\n  console.log(`Exporting document: Project ${projectId}, Document ${documentId}`);\r\n  \r\n  // Will be implemented in next phase - for now just show notification\r\n  showNotification('Document export will be implemented in the next phase', 'info');\r\n}\r\n\r\n// Show notification\r\nfunction showNotification(message: string, type: 'success' | 'error' | 'info' = 'info') {\r\n  const notification = document.createElement('div');\r\n  notification.className = `gdds-notification ${type}`;\r\n  notification.innerHTML = `\r\n    <div class=\"gdds-notification-content\">\r\n      <span class=\"gdds-notification-message\">${message}</span>\r\n      <button class=\"gdds-notification-close\">✕</button>\r\n    </div>\r\n  `;\r\n  \r\n  // Add to DOM\r\n  document.body.appendChild(notification);\r\n  \r\n  // Add close button listener\r\n  const closeButton = notification.querySelector('.gdds-notification-close');\r\n  if (closeButton) {\r\n    closeButton.addEventListener('click', () => {\r\n      document.body.removeChild(notification);\r\n    });\r\n  }\r\n  \r\n  // Auto-remove after 5 seconds\r\n  setTimeout(() => {\r\n    if (document.body.contains(notification)) {\r\n      document.body.removeChild(notification);\r\n    }\r\n  }, 5000);\r\n}\r\n"],"names":[],"sourceRoot":""}