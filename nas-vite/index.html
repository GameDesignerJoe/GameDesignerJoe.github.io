<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Not All Survive">
    <meta name="theme-color" content="#013A63">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Old+Standard+TT:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    <link rel="apple-touch-icon" href="art/nas_192x192.png">
    <link rel="apple-touch-startup-image" href="art/nas_512x512.png">
    <title>NOT ALL SURVIVE</title>
    <!-- Use relative path for CSS -->
    <link rel="stylesheet" href="./src/index.css">
    <link rel="stylesheet" href="./src/services/packingManager.css">
</head>
<body>
    <!-- Packing screen container -->
    <div id="packing-screen"></div>
    
    <!-- Game Container -->
    <div class="game-container game-element" style="display: none;">
        <!-- Restart Button -->
        <button id="restart-button" class="restart-button hidden">
            START A NEW EXPEDITION
        </button>    

        <!-- Stats Display -->
        <div class="stats-container">
            <div class="stat">
                <img src="./art/health.svg" id="health-icon" alt="Health" class="stat-icon">
                <div class="stat-bar">
                    <div class="stat-fill" id="health-bar"></div>
                </div>
            </div>
            <div class="stat">
                <img src="./art/stamina.svg" id="stamina-icon" alt="Stamina" class="stat-icon">
                <div class="stat-bar">
                    <div class="stat-fill" id="stamina-bar"></div>
                </div>
            </div>
            <div class="stat">
                <img src="./art/food.svg" id="food-icon" alt="Food" class="stat-icon">
                <div class="stat-bar">
                    <div class="stat-fill" id="food-bar"></div>
                </div>
            </div>
        </div>
        
        <!-- Game Grid -->
        <div class="grid-container">
            <!-- Message Container -->
            <div id="message-container">
                <p id="game-message"></p>
            </div>
            <svg id="gameGrid" width="100%" height="100%" viewBox="-150 -150 300 300">
                <g id="hexGroup">
                    <!-- Hexes will be added here by JS -->
                </g>
            </svg>
            <!-- Player Messages will overlay the game -->
            <div id="player-message-container" class="player-message">
                <p id="player-message-text"></p>
            </div>
        </div>

        </div>
    </div>

    <!-- Game Initialization -->
    <script type="module" src="./src/main.js"></script>
    <script>
        // Debug click handler
        document.addEventListener('click', (e) => {
            console.log('Click at:', e.clientX, e.clientY);
            console.log('Target:', e.target);
            console.log('Target ID:', e.target.id);
            console.log('Target classList:', e.target.classList);
            console.log('Target dataset:', e.target.dataset);
            if (e.target.matches('[data-testid="start-game-button"]')) {
                console.log('Start game button clicked!');
            }
        });
    </script>
</body>
</html>
